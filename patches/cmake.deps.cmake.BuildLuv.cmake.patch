diff --git a/cmake.deps/cmake/BuildLuv.cmake b/cmake.deps/cmake/BuildLuv.cmake
index 2e07f9e337..3112e338d3 100644
--- a/cmake.deps/cmake/BuildLuv.cmake
+++ b/cmake.deps/cmake/BuildLuv.cmake
@@ -7,11 +7,15 @@ set(LUV_CMAKE_ARGS
 
 list(APPEND LUV_CMAKE_ARGS -D WITH_LUA_ENGINE=${LUA_ENGINE})
 
+list(APPEND LUV_CMAKE_ARGS -D CMAKE_C_LINK_LIBRARY_FLAG=${CMAKE_C_LINK_LIBRARY_FLAG} -D CMAKE_C_STANDARD_LIBRARIES=${CMAKE_C_STANDARD_LIBRARIES})
+
 if(USE_BUNDLED_LIBUV)
   list(APPEND LUV_CMAKE_ARGS -D CMAKE_PREFIX_PATH=${DEPS_INSTALL_DIR})
+else()
+  list(APPEND LUV_CMAKE_ARGS -D LIBUV_INCLUDE_DIR=${LIBUV_INCLUDE_DIR} -D LIBUV_LIBRARIES=${LIBUV_LIBRARIES} -D LIBUV_LIBRARY=${LIBUV_LIBRARY})
 endif()
 
-list(APPEND LUV_CMAKE_ARGS "-DCMAKE_C_FLAGS:STRING=${DEPS_INCLUDE_FLAGS} -w")
+list(APPEND LUV_CMAKE_ARGS "-DCMAKE_C_FLAGS:STRING=${CMAKE_C_FLAGS} ${DEPS_INCLUDE_FLAGS} -w")
 if(CMAKE_GENERATOR MATCHES "Unix Makefiles" AND
     (CMAKE_SYSTEM_NAME MATCHES ".*BSD" OR CMAKE_SYSTEM_NAME MATCHES "DragonFly"))
     list(APPEND LUV_CMAKE_ARGS -D CMAKE_MAKE_PROGRAM=gmake)
@@ -29,6 +33,7 @@ get_externalproject_options(luv ${DEPS_IGNORE_SHA})
 ExternalProject_Add(luv
   DEPENDS lua_compat53
   DOWNLOAD_DIR ${DEPS_DOWNLOAD_DIR}/luv
+  PATCH_COMMAND patch -p1 < ${CMAKE_SOURCE_DIR}/../../deps_patches/luv.patch
   SOURCE_DIR ${DEPS_BUILD_DIR}/src/luv
   CMAKE_ARGS ${DEPS_CMAKE_ARGS} ${LUV_CMAKE_ARGS}
   ${EXTERNALPROJECT_OPTIONS})
